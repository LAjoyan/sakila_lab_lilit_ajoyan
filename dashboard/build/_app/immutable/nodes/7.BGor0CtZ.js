import{s as se,d as a,i as c,a as j,b as p,c as b,h as re,e as T,f as X,g as x,j as k,k as v,l as Y,m as ae,o as oe,p as ne,q as ie,n as B}from"../chunks/scheduler.DfvmxNKj.js";import{S as le,i as ue,d as J,t as U,a as S,c as me,m as W,b as Z,e as ee,g as ce}from"../chunks/index.DtjRG3bS.js";import"../chunks/VennDiagram.svelte_svelte_type_style_lang.APGNNad8.js";import{w as pe}from"../chunks/entry.BdKz_7lL.js";import{e as fe,s as _e,Q as de,p as he,r as $,C as Ce}from"../chunks/inferColumnTypes.DXlGed8y.js";import{h as z}from"../chunks/setTrackProxy.Cyfckp0w.js";import{p as ye}from"../chunks/stores.KpJrIjgJ.js";import{Q as be}from"../chunks/QueryViewer.CPBI5zCX.js";import{B as ke}from"../chunks/BarChart.CP6dyFx8.js";import{p as we}from"../chunks/profile.BW8tN6E9.js";function ge(u){return{c(){this.h()},l(l){this.h()},h(){document.title="Evidence"},m:B,p:B,d:B}}function K(u){let l,o;return l=new be({props:{queryID:"Customers",queryResult:u[0]}}),{c(){ee(l.$$.fragment)},l(s){Z(l.$$.fragment,s)},m(s,f){W(l,s,f),o=!0},p(s,f){const _={};f&1&&(_.queryResult=s[0]),l.$set(_)},i(s){o||(S(l.$$.fragment,s),o=!0)},o(s){U(l.$$.fragment,s),o=!1},d(s){J(l,s)}}}function Te(u){let l,o,s,f,_,n,L='<a href="#customer-rentals--top-customers">Customer Rentals &amp; Top Customers</a>',R,d,O="This page shows insights into customer behavior in the Sakila database, including top-spending customers and their rental activity.",q,m,h='<a href="#top-8-customers">Top 8 Customers</a>',C,y,w,H,r,I='<a href="#a-barchart">A Barchart</a>',Q,M,A,g,G='<a href="#insights">Insights</a>',D,F,P='<li class="markdown">The bar chart highlights the customers who generate the highest revenue.</li> <li class="markdown">High total spending usually correlates with frequent rentals.</li> <li class="markdown">Customers with high spending but low rental count may rent expensive titles â€” valuable to target for premium offers.</li> <li class="markdown">Customers with many rentals but low spending may be ideal for loyalty rewards.</li> <li class="markdown">These insights support identifying key customer groups for marketing or retention strategies.</li>',N;function te(e,t){return ge}let E=te()(u),i=u[0]&&K(u);return M=new ke({props:{data:u[0],title:"Top 8 Customers by Total Spending",x:"customer_name",y:"total_spend",swapXY:"true"}}),{c(){l=k(),E.c(),o=v("meta"),s=v("meta"),f=X(),_=k(),n=v("h1"),n.innerHTML=L,R=k(),d=v("p"),d.textContent=O,q=k(),m=v("h2"),m.innerHTML=h,C=k(),i&&i.c(),y=k(),w=v("hr"),H=k(),r=v("h2"),r.innerHTML=I,Q=k(),ee(M.$$.fragment),A=k(),g=v("h2"),g.innerHTML=G,D=k(),F=v("ul"),F.innerHTML=P,this.h()},l(e){l=b(e);const t=re("svelte-2igo1p",document.head);E.l(t),o=T(t,"META",{name:!0,content:!0}),s=T(t,"META",{name:!0,content:!0}),f=X(),t.forEach(a),_=b(e),n=T(e,"H1",{class:!0,id:!0,"data-svelte-h":!0}),x(n)!=="svelte-1q89j2r"&&(n.innerHTML=L),R=b(e),d=T(e,"P",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-a0nklo"&&(d.textContent=O),q=b(e),m=T(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),x(m)!=="svelte-1df2lne"&&(m.innerHTML=h),C=b(e),i&&i.l(e),y=b(e),w=T(e,"HR",{class:!0}),H=b(e),r=T(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),x(r)!=="svelte-ubocwa"&&(r.innerHTML=I),Q=b(e),Z(M.$$.fragment,e),A=b(e),g=T(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),x(g)!=="svelte-ggtwef"&&(g.innerHTML=G),D=b(e),F=T(e,"UL",{class:!0,"data-svelte-h":!0}),x(F)!=="svelte-1oo0qzd"&&(F.innerHTML=P),this.h()},h(){p(o,"name","twitter:card"),p(o,"content","summary_large_image"),p(s,"name","twitter:site"),p(s,"content","@evidence_dev"),p(n,"class","markdown"),p(n,"id","customer-rentals--top-customers"),p(d,"class","markdown"),p(m,"class","markdown"),p(m,"id","top-8-customers"),p(w,"class","markdown"),p(r,"class","markdown"),p(r,"id","a-barchart"),p(g,"class","markdown"),p(g,"id","insights"),p(F,"class","markdown")},m(e,t){c(e,l,t),E.m(document.head,null),j(document.head,o),j(document.head,s),j(document.head,f),c(e,_,t),c(e,n,t),c(e,R,t),c(e,d,t),c(e,q,t),c(e,m,t),c(e,C,t),i&&i.m(e,t),c(e,y,t),c(e,w,t),c(e,H,t),c(e,r,t),c(e,Q,t),W(M,e,t),c(e,A,t),c(e,g,t),c(e,D,t),c(e,F,t),N=!0},p(e,[t]){E.p(e,t),e[0]?i?(i.p(e,t),t&1&&S(i,1)):(i=K(e),i.c(),S(i,1),i.m(y.parentNode,y)):i&&(ce(),U(i,1,1,()=>{i=null}),me());const V={};t&1&&(V.data=e[0]),M.$set(V)},i(e){N||(S(i),S(M.$$.fragment,e),N=!0)},o(e){U(i),U(M.$$.fragment,e),N=!1},d(e){e&&(a(l),a(_),a(n),a(R),a(d),a(q),a(m),a(C),a(y),a(w),a(H),a(r),a(Q),a(A),a(g),a(D),a(F)),E.d(e),a(o),a(s),a(f),i&&i.d(e),J(M,e)}}}function ve(u,l,o){let s,f;Y(u,ye,r=>o(7,s=r)),Y(u,$,r=>o(13,f=r));let{data:_}=l,{data:n={},customFormattingSettings:L,__db:R,inputs:d}=_;ae($,f="b08cff58c004e9197a4cf56552dfc7b5",f);let O=fe(pe(d));oe(O.subscribe(r=>d=r)),ne(Ce,{getCustomFormats:()=>L.customFormats||[]});const q=(r,I)=>we(R.query,r,{query_name:I});_e(q),s.params,ie(()=>!0);let m={initialData:void 0,initialError:void 0},h=z`FROM sakila.customer;`,C="FROM sakila.customer;";n.Customers_data&&(n.Customers_data instanceof Error?m.initialError=n.Customers_data:m.initialData=n.Customers_data,n.Customers_columns&&(m.knownColumns=n.Customers_columns));let y,w=!1;const H=de.createReactive({callback:r=>{o(0,y=r)},execFn:q},{id:"Customers",...m});return H(C,{noResolve:h,...m}),globalThis[Symbol.for("Customers")]={get value(){return y}},u.$$set=r=>{"data"in r&&o(1,_=r.data)},u.$$.update=()=>{u.$$.dirty&2&&o(2,{data:n={},customFormattingSettings:L,__db:R}=_,n),u.$$.dirty&4&&he.set(Object.keys(n).length>0),u.$$.dirty&128&&s.params,u.$$.dirty&120&&(h||!w?h||(H(C,{noResolve:h,...m}),o(6,w=!0)):H(C,{noResolve:h}))},o(4,h=z`FROM sakila.customer;`),o(5,C="FROM sakila.customer;"),[y,_,n,m,h,C,w,s]}class Qe extends le{constructor(l){super(),ue(this,l,ve,Te,se,{data:1})}}export{Qe as component};
