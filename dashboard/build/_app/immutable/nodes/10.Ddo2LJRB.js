import{s as we,d as r,i,a as ae,b as _,c as y,h as be,e as b,f as ce,g as O,r as Te,j as R,k as T,t as ge,l as _e,m as He,o as Ce,p as Se,q as Ee,n as ne}from"../chunks/scheduler.BxP1Go6b.js";import{S as Le,i as Fe,d as W,t as D,a as S,c as de,m as Z,b as ee,e as te,g as fe}from"../chunks/index.C0s-jxya.js";import"../chunks/VennDiagram.svelte_svelte_type_style_lang.470F7ikS.js";import{w as Oe}from"../chunks/entry.BzW2tmts.js";import{e as qe,s as Ue,Q as he,p as xe,r as ve,C as $e}from"../chunks/inferColumnTypes.Bzmk3Zcm.js";import{h as J}from"../chunks/setTrackProxy.Cyfckp0w.js";import{p as Ae}from"../chunks/stores.3t_DxgSa.js";import{Q as Me}from"../chunks/QueryViewer.Dss_eQin.js";import{B as pe}from"../chunks/BarChart.DESAJKqh.js";import{p as De}from"../chunks/profile.BW8tN6E9.js";function Be(o){return{c(){this.h()},l(s){this.h()},h(){document.title="Evidence"},m:ne,p:ne,d:ne}}function ye(o){let s,n;return s=new Me({props:{queryID:"Revenue",queryResult:o[0]}}),{c(){te(s.$$.fragment)},l(a){ee(s.$$.fragment,a)},m(a,d){Z(s,a,d),n=!0},p(a,d){const h={};d&1&&(h.queryResult=a[0]),s.$set(h)},i(a){n||(S(s.$$.fragment,a),n=!0)},o(a){D(s.$$.fragment,a),n=!1},d(a){W(s,a)}}}function Re(o){let s,n;return s=new Me({props:{queryID:"Month",queryResult:o[1]}}),{c(){te(s.$$.fragment)},l(a){ee(s.$$.fragment,a)},m(a,d){Z(s,a,d),n=!0},p(a,d){const h={};d&2&&(h.queryResult=a[1]),s.$set(h)},i(a){n||(S(s.$$.fragment,a),n=!0)},o(a){D(s.$$.fragment,a),n=!1},d(a){W(s,a)}}}function Ie(o){let s,n,a,d,h,l,G='<a href="#film-revenue-by-category">Film Revenue by Category</a>',B,g,N=`This page shows total revenue for each film category in the Sakila database.<br class="markdown"/>
Use the chart and table below to explore which categories generate the most revenue.`,q,M,k,v,I='<a href="#revenue-table">Revenue Table</a>',U,H,f,w,p,Y='<a href="#monthly-revenue-trend">Monthly Revenue Trend</a>',x,C,u,P,E,re='<a href="#insights">Insights</a>',j,L,se='<a href="#category-revenue">Category Revenue</a>',V,$,le='<li class="markdown">Categories with the highest revenue stand out clearly in the bar chart.</li> <li class="markdown">High-revenue categories indicate genres with strong customer demand.</li> <li class="markdown">Lower-revenue categories may represent niche genres or less frequently rented films.</li> <li class="markdown">These insights help guide decisions on stock allocation, marketing, and promotional focus.</li>',z,F,ie='<a href="#monthly-revenue-trend-1">Monthly Revenue Trend</a>',K,A,oe='<li class="markdown">The month-by-month chart reveals how revenue changes over time.</li> <li class="markdown">Peaks in the chart may represent seasonal demand or promotional periods.</li> <li class="markdown">Months with unusually low revenue may indicate system gaps, limited data coverage, or lower rental activity.</li> <li class="markdown">This trend view helps identify seasonality, growth, and anomalies in customer spending behavior.</li>',X;function ke(e,t){return Be}let Q=ke()(o),m=o[0]&&ye(o);f=new pe({props:{data:o[0],title:"Total Revenue by Film Category",x:"category_name",y:"total_revenue"}});let c=o[1]&&Re(o);return u=new pe({props:{data:o[1],title:"Total Revenue by month",x:"pay_date",y:"total_revenue"}}),{c(){s=R(),Q.c(),n=T("meta"),a=T("meta"),d=ce(),h=R(),l=T("h1"),l.innerHTML=G,B=R(),g=T("p"),g.innerHTML=N,q=R(),M=T("hr"),k=R(),v=T("h2"),v.innerHTML=I,U=R(),m&&m.c(),H=R(),te(f.$$.fragment),w=ge(`
---
`),p=T("h2"),p.innerHTML=Y,x=R(),c&&c.c(),C=R(),te(u.$$.fragment),P=R(),E=T("h2"),E.innerHTML=re,j=R(),L=T("h2"),L.innerHTML=se,V=R(),$=T("ul"),$.innerHTML=le,z=R(),F=T("h2"),F.innerHTML=ie,K=R(),A=T("ul"),A.innerHTML=oe,this.h()},l(e){s=y(e);const t=be("svelte-2igo1p",document.head);Q.l(t),n=b(t,"META",{name:!0,content:!0}),a=b(t,"META",{name:!0,content:!0}),d=ce(),t.forEach(r),h=y(e),l=b(e,"H1",{class:!0,id:!0,"data-svelte-h":!0}),O(l)!=="svelte-1hhipx7"&&(l.innerHTML=G),B=y(e),g=b(e,"P",{class:!0,"data-svelte-h":!0}),O(g)!=="svelte-g19gsf"&&(g.innerHTML=N),q=y(e),M=b(e,"HR",{class:!0}),k=y(e),v=b(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),O(v)!=="svelte-18zbb7e"&&(v.innerHTML=I),U=y(e),m&&m.l(e),H=y(e),ee(f.$$.fragment,e),w=Te(e,`
---
`),p=b(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),O(p)!=="svelte-13buerm"&&(p.innerHTML=Y),x=y(e),c&&c.l(e),C=y(e),ee(u.$$.fragment,e),P=y(e),E=b(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),O(E)!=="svelte-ggtwef"&&(E.innerHTML=re),j=y(e),L=b(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),O(L)!=="svelte-aur6cw"&&(L.innerHTML=se),V=y(e),$=b(e,"UL",{class:!0,"data-svelte-h":!0}),O($)!=="svelte-13u06s0"&&($.innerHTML=le),z=y(e),F=b(e,"H2",{class:!0,id:!0,"data-svelte-h":!0}),O(F)!=="svelte-999xvi"&&(F.innerHTML=ie),K=y(e),A=b(e,"UL",{class:!0,"data-svelte-h":!0}),O(A)!=="svelte-tm7f0n"&&(A.innerHTML=oe),this.h()},h(){_(n,"name","twitter:card"),_(n,"content","summary_large_image"),_(a,"name","twitter:site"),_(a,"content","@evidence_dev"),_(l,"class","markdown"),_(l,"id","film-revenue-by-category"),_(g,"class","markdown"),_(M,"class","markdown"),_(v,"class","markdown"),_(v,"id","revenue-table"),_(p,"class","markdown"),_(p,"id","monthly-revenue-trend"),_(E,"class","markdown"),_(E,"id","insights"),_(L,"class","markdown"),_(L,"id","category-revenue"),_($,"class","markdown"),_(F,"class","markdown"),_(F,"id","monthly-revenue-trend-1"),_(A,"class","markdown")},m(e,t){i(e,s,t),Q.m(document.head,null),ae(document.head,n),ae(document.head,a),ae(document.head,d),i(e,h,t),i(e,l,t),i(e,B,t),i(e,g,t),i(e,q,t),i(e,M,t),i(e,k,t),i(e,v,t),i(e,U,t),m&&m.m(e,t),i(e,H,t),Z(f,e,t),i(e,w,t),i(e,p,t),i(e,x,t),c&&c.m(e,t),i(e,C,t),Z(u,e,t),i(e,P,t),i(e,E,t),i(e,j,t),i(e,L,t),i(e,V,t),i(e,$,t),i(e,z,t),i(e,F,t),i(e,K,t),i(e,A,t),X=!0},p(e,[t]){Q.p(e,t),e[0]?m?(m.p(e,t),t&1&&S(m,1)):(m=ye(e),m.c(),S(m,1),m.m(H.parentNode,H)):m&&(fe(),D(m,1,1,()=>{m=null}),de());const ue={};t&1&&(ue.data=e[0]),f.$set(ue),e[1]?c?(c.p(e,t),t&2&&S(c,1)):(c=Re(e),c.c(),S(c,1),c.m(C.parentNode,C)):c&&(fe(),D(c,1,1,()=>{c=null}),de());const me={};t&2&&(me.data=e[1]),u.$set(me)},i(e){X||(S(m),S(f.$$.fragment,e),S(c),S(u.$$.fragment,e),X=!0)},o(e){D(m),D(f.$$.fragment,e),D(c),D(u.$$.fragment,e),X=!1},d(e){e&&(r(s),r(h),r(l),r(B),r(g),r(q),r(M),r(k),r(v),r(U),r(H),r(w),r(p),r(x),r(C),r(P),r(E),r(j),r(L),r(V),r($),r(z),r(F),r(K),r(A)),Q.d(e),r(n),r(a),r(d),m&&m.d(e),W(f,e),c&&c.d(e),W(u,e)}}}function Ye(o,s,n){let a,d;_e(o,Ae,u=>n(12,a=u)),_e(o,ve,u=>n(18,d=u));let{data:h}=s,{data:l={},customFormattingSettings:G,__db:B,inputs:g}=h;He(ve,d="2c98a449ced2a12cd4d2c4efe013679c",d);let N=qe(Oe(g));Ce(N.subscribe(u=>g=u)),Se($e,{getCustomFormats:()=>G.customFormats||[]});const q=(u,P)=>De(B.query,u,{query_name:P});Ue(q),a.params,Ee(()=>!0);let M={initialData:void 0,initialError:void 0},k=J`FROM sakila.revenue;`,v="FROM sakila.revenue;";l.Revenue_data&&(l.Revenue_data instanceof Error?M.initialError=l.Revenue_data:M.initialData=l.Revenue_data,l.Revenue_columns&&(M.knownColumns=l.Revenue_columns));let I,U=!1;const H=he.createReactive({callback:u=>{n(0,I=u)},execFn:q},{id:"Revenue",...M});H(v,{noResolve:k,...M}),globalThis[Symbol.for("Revenue")]={get value(){return I}};let f={initialData:void 0,initialError:void 0},w=J`SELECT 
date_trunc('month', payment_date) AS pay_date,
SUM(amount) AS total_revenue
FROM sakila.month_revenue
GROUP BY pay_date
ORDER BY pay_date;`,p=`SELECT 
date_trunc('month', payment_date) AS pay_date,
SUM(amount) AS total_revenue
FROM sakila.month_revenue
GROUP BY pay_date
ORDER BY pay_date;`;l.Month_data&&(l.Month_data instanceof Error?f.initialError=l.Month_data:f.initialData=l.Month_data,l.Month_columns&&(f.knownColumns=l.Month_columns));let Y,x=!1;const C=he.createReactive({callback:u=>{n(1,Y=u)},execFn:q},{id:"Month",...f});return C(p,{noResolve:w,...f}),globalThis[Symbol.for("Month")]={get value(){return Y}},o.$$set=u=>{"data"in u&&n(2,h=u.data)},o.$$.update=()=>{o.$$.dirty&4&&n(3,{data:l={},customFormattingSettings:G,__db:B}=h,l),o.$$.dirty&8&&xe.set(Object.keys(l).length>0),o.$$.dirty&4096&&a.params,o.$$.dirty&240&&(k||!U?k||(H(v,{noResolve:k,...M}),n(7,U=!0)):H(v,{noResolve:k})),o.$$.dirty&3840&&(w||!x?w||(C(p,{noResolve:w,...f}),n(11,x=!0)):C(p,{noResolve:w}))},n(5,k=J`FROM sakila.revenue;`),n(6,v="FROM sakila.revenue;"),n(9,w=J`SELECT 
date_trunc('month', payment_date) AS pay_date,
SUM(amount) AS total_revenue
FROM sakila.month_revenue
GROUP BY pay_date
ORDER BY pay_date;`),n(10,p=`SELECT 
date_trunc('month', payment_date) AS pay_date,
SUM(amount) AS total_revenue
FROM sakila.month_revenue
GROUP BY pay_date
ORDER BY pay_date;`),[I,Y,h,l,M,k,v,U,f,w,p,x,a]}class Ze extends Le{constructor(s){super(),Fe(this,s,Ye,Ie,we,{data:2})}}export{Ze as component};
